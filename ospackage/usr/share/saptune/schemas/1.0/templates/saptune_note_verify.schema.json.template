{% extends "common.schema.json.template" %}

{% block command %}saptune note verify{% endblock %}

{% block description %}Describes the output of '{{ self.command() }}.{% endblock %}

{% block result_required %}["verifications", "attentions", "enabled Notes", "system compliance"]{% endblock %}

{% block result_properties %}
                "verifications": {
                    "description": "List of verifications (lines of the table output by `saptune note verify`.",
                    "type": "array",
                    "items": {
                        "type": "object",
                        "required": [ "Note ID", "Note version", "parameter", "compliant" ],
                        "additionalProperties": true,  
                        "propertyNames": {
                            "enum": [ "Note ID", "Note version", "parameter", "compliant", "expected value", "override value", "actual value", "amendments" ]
                        },
                        "properties": {
                            "Note ID": { "$ref": "#/$defs/saptune note id" },
                            "Note version": { "$ref": "#/$defs/saptune note version" },
                            "parameter": { "$ref": "#/$defs/saptune parameter id" },
                            "expected value": { "$ref": "#/$defs/saptune parameter value" },
                            "override value": { "$ref": "#/$defs/saptune parameter value" },
                            "actual value": { "$ref": "#/$defs/saptune parameter value" },
                            "compliant": { "$ref": "#/$defs/saptune parameter compliance" },
                            "amendments": {
                                "desccription": "Optional amendments (footnotes).",
                                "type": "array",
                                "items": {
                                    "desccription": "Amendment (footnote) consists of an id and the explaining text.",
                                    "type": "object",
                                    "required": [ "index", "text" ],
                                    "additionalProperties": false,  
                                    "properties": {
                                        "index": { "type": "integer" },
                                        "text": { "type": "string", "minLength": 1 }
                                    }
                                }
                            }
                        }
                    }
                },
                "attentions": {
<<<<<<< HEAD
                    "description": "WHAT WAS THIS EXACTLY????",
=======
                    "description": "Attentions printed for a Note.",
>>>>>>> 408930a (Schema for note verify finished.)
                    "type": "array",
                    "items": {
                        "required": [ "Note ID", "attention" ],
                        "additionalProperties": false,  
                        "properties": {
                            "Note ID": { "$ref": "#/$defs/saptune note id" },
                            "attention": { "type": "string", "minLength": 1 }
                        }
                    }
                },
                "enabled Notes": {
                    "description": "List of the enabled Notes.",
                    "type":  "array",
                    "items": {
                        "type": "string",
                        "$ref": "#/$defs/saptune note id"
                    }                       
                },
                "system compliance": {
                    "description": "Overall compliance of all currently applied SAP Notes.",
                    "type": "boolean"
                }
{% endblock %}

                            
                            